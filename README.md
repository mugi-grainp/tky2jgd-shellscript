# tky2jgd: 国土地理院提供測地系変換プログラム「TKY2JGD」移植

## 概要

国土地理院が提供している，測地系変換を行うプログラム「TKY2JGD」は，現在Web版の
みが提供されており，スタンドアロン変換用プログラムは公開終了となっている．しか
し，Visual Basic 5.0によるソースコードが「国土地理院オンテンツ利用規約」に基づ
き公開されているため，これをシェルスクリプトで再実装して，コマンドライン版のソ
フトとする．

## 国土地理院コンテンツ利用規約に基づく表示

出典: 国土地理院ウェブサイト「TKY2JGD for Windowsダウンロード」 (https://www.gsi.go.jp/sokuchikijun/tky2jgd_download.html)

本プログラムは，国土地理院公開「TKY2JGD」のVisual Basic 5.0ソースコードをもとに変換作成した．

## 注意事項

- 元ソースコードのうち，下記の部分のみを変換作成し，それ以外の部分はこのプログラムに含まれない
    - 国土地理院配布の座標変換パラメータ・ファイルを利用した測地系変換
- プログラム変換にあたっては細心の注意を払って製作したが，誤りが存在する可能性がある．本プログラムを利用した場合のいかなる損害についても，プログラム変換者は責任を負わない．

# 別途必要なデータファイル

- 国土地理院配布の座標変換パラメータ・ファイル TKY2JGD.par
    - https://www.gsi.go.jp/sokuchikijun/tky2jgd_download.html
    - 本スクリプトと同じディレクトリに配置すること．

## 参考サイト

- 国土地理院 TKY2JGD for Windowsダウンロード https://www.gsi.go.jp/sokuchikijun/tky2jgd_download.html
- 国土地理院コンテンツ利用規約 https://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html

# プログラム利用法

空白区切りのファイルの場合

```bash
./tky2jgd < latitude_longitude_list.txt
```

CSVの場合

```bash
./tky2jgd -d, < latitude_longitude_list.csv
```

```
コマンドライン引数
    -d, --delim=DELIM   フィールド区切りをDELIMに設定する．デフォルトは空白

入力ファイルフォーマット
緯度と経度（旧日本測地系）を区切り文字DELIMで記述
    33.59425 130.22374
    33.59417 130.22310
    33.59425 130.22105
    33.59369 130.21935
    33.59367 130.21927

出力フォーマット
緯度と経度（旧日本測地系と日本測地系2011）を出力
    旧緯度   旧経度    新緯度   新経度
    33.59425 130.22374 33.59754 130.22143
    33.59417 130.22310 33.59745 130.22079
    33.59425 130.22105 33.59754 130.21874
    33.59369 130.21935 33.59698 130.21703
    33.59367 130.21927 33.59696 130.21696
```
